# ゲーム機能（NIKI RUN）

このプロジェクトには、Phaser.js を使用して実装されたシンプルなエンドレスラン形式のミニゲームが組み込まれています。


## ゲーム概要

- プレイヤーは自動で走り続け、ジャンプ操作によって障害物や敵、穴を避けながら進みます。
- ゲームステージは、一定の幅を持つステージチャンクを連続的に生成・接続することで構成されています。
- プレイヤーが生き残って走行した距離がスコアとなり、他のユーザーとのランキングで競い合うことができます。

## 技術スタック
- フロントエンド：Phaser 3（+ Matter.js）
- バックエンド：Django（ユーザー・コイン管理）
- その他：チャンク制マップ生成、キャラクターアンロック、スコアランキング など

## コインとキャラクターアンロック機能

- このゲームは「CycleD」の一部として統合されており、ユーザーは日記を投稿することで **コイン** を獲得できます。
- 獲得したコインを使用することで、新しいキャラクターをアンロックすることができます。
- 各キャラクターは異なるステータスを持ち、ゲームの楽しみ方にバリエーションを与えます。

## ゲームプレイの様子

ゲームの様子は以下のリンクからご覧いただけます。

[ゲームプレイ動画をダウンロード](https://youtu.be/ChiuTB7LyqE)


## 工夫した点

- **チャンク生成による無限ステージ構成**  
  地形や障害物をチャンク単位で管理・再利用することで、パフォーマンスと拡張性を両立しました。

- **Matter.jsとの連携**  
  PhaserのMatter物理エンジンを活用し、自然なジャンプ挙動や衝突判定を実現しました。

- **キャラクターの差別化**  
  見た目だけでなく、移動速度やジャンプ力に差をつけて、ゲーム性を向上させました。

- **演出の強化**  
  操作キャラクターや敵キャラクターが消滅する際、または残機が減る際などにエフェクトや画面演出を加えることで、ゲーム全体に没入感を与える工夫をしました。


## 学んだこと

- **チャンク制マップ管理の重要性**  
  無限スクロール形式のゲームでは、地形やオブジェクトを動的に生成・破棄する仕組みが不可欠であることを実感しました。これにより、ゲームの安定性とスケーラビリティの重要性を理解しました。

- **PhaserとMatter.jsの統合方法**  
  描画と物理演算の整合性を保つために、アセットの位置やサイズを細かく調整する必要がありました。見た目と物理挙動の一体感を出すための工夫を通して、エンジンの理解が深まりました。

- **イベント管理の工夫**  
  ゲーム中断や再開、キャラクター切り替えといったイベントを適切に管理するには、状態の設計と遷移ロジックが非常に重要であると学びました。シーン間のスムーズな連携はプレイ体験に直結することを実感しました。

- **フロントエンドとバックエンドの連携**  
  DjangoとPhaser間でのデータ連携（コイン獲得やキャラクターアンロック）を実装する中で、Webアプリケーションとしてのゲーム統合の流れを学びました。ゲームと日常アクション（例：日記投稿）を連動させることで、ユーザー体験をより豊かにできることがわかりました。
